<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gd.obo.mapper.DonationMapper">
	<insert id="insertDonationMoneyList" parameterType="com.gd.obo.vo.DonationMoneyList">
		INSERT INTO donation_money_list(
			member_id, 
			shelter_id, 
			amount, 
			donation_date
		) VALUES(
			#{memberId}, 
			#{shelterId}, 
			#{amount}, 
			NOW()
		)
	</insert>
	<select id="selectDonationItemList" parameterType="int" resultType="com.gd.obo.vo.DonationItemList">
		SELECT
			donation_item_list_id donationItemListId,
			member_id memberId,
			shelter_id shelterId,
			item_category_id itemCategoryId,
			donation_date donationDate,
			item_name itemName,
			item_quantity itemQuantity,
			item_description itemDescription
		FROM donation_item_list
		WHERE shelter_id = #{shelterId}
		ORDER BY donation_date DESC;
	</select>
	
	<select id="selectDonationMoneyNList" parameterType="int" resultType="com.gd.obo.vo.DonationMoneyList">
		SELECT
			donation_money_list_id donationMoneyListId,
			member_id memberId,
			shelter_id shelterId,
			donation_date donationDate,
			amount amount
		FROM donation_money_list
		WHERE shelter_id = #{shelterId}
		ORDER BY donation_date DESC;
	</select>
	
	<select id="selectDonationMoneyPList" parameterType="int" resultType="com.gd.obo.vo.PeriodicallyDonation">
		SELECT
			periodically_donation_id periodicallyDonationId,
			member_id memberId,
			shelter_id shelterId,
			end_date endDate,
			apply_date applyDate,
			amount amount,
			sid sid
		FROM periodically_donation
		WHERE shelter_id = #{shelterId}
		ORDER BY apply_date DESC;
	</select>

</mapper>